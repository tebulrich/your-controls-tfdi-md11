TFDI MD-11 Configuration File Generation - Continuation Instructions
====================================================================

PROJECT OVERVIEW
----------------
This project creates comprehensive YourControls configuration files for the TFDI Design MD-11 aircraft.
The configuration is organized into modular YAML files, with each module covering a specific panel/system.

DOCUMENTATION REFERENCES
------------------------
- Events: https://docs.tfdidesign.com/md11/integration-guide/events
- Variables: https://docs.tfdidesign.com/md11/integration-guide/variables

COMPLETED MODULES
-----------------
The following modules have been completed (100% event coverage):
1. TFDI_MD11_audio_panel.yaml - Audio panel controls (Captain, First Officer, Observer)
2. TFDI_MD11_radio_panel.yaml - Radio panel controls
3. TFDI_MD11_fmc.yaml - FMC/CDU button events (LMCDU, RMCDU, CDU, CMCDU)
4. TFDI_MD11_aft_overhead_panel.yaml - Aft overhead panel (APU, Fire, Cargo Smoke, GPWS, Evacuation)

All completed modules are included in: definitions/aircraft/TFDi Design - MD-11.yaml

CHECKLIST SYSTEM
----------------
The checklist/ folder contains JSON files for each panel/system category. Each JSON file lists all events
from the documentation that should be implemented for that category.

To check coverage for a specific category:
  python checklist/check_events.py <category_name>
  
Example:
  python checklist/check_events.py overhead_panel
  python checklist/check_events.py fmc
  
To check all categories:
  python checklist/check_events.py

The script will:
- Search for each event in the main aircraft YAML file and all module files
- Mark events as "// present" in the JSON file if found
- Report coverage percentage

HOW TO CREATE A NEW MODULE
--------------------------
1. Identify the checklist JSON file for the category you want to work on
2. Read the checklist JSON to see all events that need to be implemented
3. Create a new YAML file: definitions/modules/TFDI_MD11_<category_name>.yaml
4. Follow this structure:

   # TFDI MD-11 <Panel Name> Controls
   # Events reference: https://docs.tfdidesign.com/md11/integration-guide/events
   # Variables reference: https://docs.tfdidesign.com/md11/integration-guide/variables
   
   shared:
     - # Description of control group
       type: event  # or ToggleSwitch, NumIncrement, etc.
       event_name: EVENT_NAME_HERE
     -
       type: event
       event_name: ANOTHER_EVENT_NAME

5. Add events based on the checklist JSON file
6. Add the module to definitions/aircraft/TFDi Design - MD-11.yaml in the include: section
7. Run the check script to verify coverage
8. Continue until 100% coverage is achieved

EVENT TYPE PATTERNS
-------------------
1. ToggleSwitch - For controls with on/off state that have L: variables
   Example:
     type: ToggleSwitch
     var_name: L:MD11_VARIABLE_NAME
     var_units: Bool
     var_type: bool
     event_name: EVENT_DOWN
     off_event_name: EVENT_UP

2. event - For momentary button presses, wheel events, switches without state tracking
   Example:
     type: event
     event_name: EVENT_NAME

3. NumIncrement - For controls that increment/decrement values
   (Check existing modules for examples)

IMPORTANT NOTES
---------------
1. Observer events use "OBS_AUDIO_PNL_" prefix (NOT "PED_OBS_AUDIO_PNL_")
2. Captain/First Officer events use "PED_CPT_" and "PED_FO_" prefixes
3. Some controls have both button events (_BT_LEFT_BUTTON_DOWN/UP) and wheel events (_KB_WHEEL_UP/DOWN)
4. Not all events have corresponding L: variables - use "type: event" when no variable exists
5. Check the variables documentation to see if L: variables exist for toggle-style controls
6. The check_events.py script will mark events as "// present" in JSON files - this is normal

REMAINING CATEGORIES TO IMPLEMENT
---------------------------------
Check the checklist/ folder for JSON files. Each represents a category that needs a module:

1. overhead_panel.json - Main overhead panel (344 events) - HIGH PRIORITY
2. center_glareshield.json - Center glareshield (45 events)
3. pedestal.json - Pedestal controls (99 events)
4. throttle.json - Throttle controls (19 events)
5. main_instruments_panel.json - Main instruments panel
6. center_panel.json - Center panel (25 events)
7. left_side_panel.json - Left side panel
8. right_side_panel.json - Right side panel
9. flight_controls.json - Flight controls
10. left_yoke.json - Left yoke controls (15 events)
11. right_yoke.json - Right yoke controls (15 events)
12. glareshield_left.json - Left glareshield (15 events)
13. glareshield_right.json - Right glareshield (15 events)
14. left_ecp.json - Left ECP
15. right_ecp.json - Right ECP

RECOMMENDED WORKFLOW
--------------------
1. Start with a smaller category (e.g., throttle.json, center_panel.json) to get familiar
2. Read the checklist JSON file for that category
3. Create the module YAML file
4. Add events systematically - group related events together with comments
5. Add the module to the main aircraft file's include: section
6. Run: python checklist/check_events.py <category>
7. Verify 100% coverage
8. Move to the next category

TIPS
----
- Look at existing modules (audio_panel.yaml, aft_overhead_panel.yaml) as examples
- Use grep to search for similar event patterns in existing modules
- The overhead_panel.json is the largest - save it for last or break it into sub-modules
- Always run the check script after adding events to verify they're being detected
- If events aren't being found, check for typos in event names
- YAML syntax is strict - ensure proper indentation (2 spaces)

FILE LOCATIONS
--------------
- Main aircraft config: definitions/aircraft/TFDi Design - MD-11.yaml
- Module files: definitions/modules/TFDI_MD11_*.yaml
- Checklist files: checklist/*.json
- Check script: checklist/check_events.py

GOOD LUCK!
----------
The audio_panel module was particularly challenging - it required fixing Observer event prefixes
and adding many missing volume button events. Use it as a reference for complex modules.

Remember: The goal is 100% event coverage for each category. Take your time, verify with the
check script, and don't hesitate to look at existing modules for patterns.

